# AlcoholicTimer 전체 기획안 (APP_SPEC)

마지막 업데이트: 2025-10-02

## 1. 제품 개요
- 목표: 금주(절주) 습관 형성 지원과 동기 부여
- 핵심 가치: 직관적인 타이머, 진행률 가시화, 기록과 리포트, 레벨 시스템
- 대상 사용자: 금주/절주를 시도하는 성인 사용자

## 2. 범위(Scope)
- 필수 기능(MVP)
  - 금주 시작/종료(실패 포함) 기록 및 타이머 표시
  - 진행률/레벨/간단 통계
  - 기록 목록/세부/전체보기
  - 사용자 기본 설정(목표 일수, 빈도/비용 등)
- 선택 기능(차기)
  - 위젯/알림, 소셜 공유, 백업/복원

## 3. 페르소나 & 주요 사용자 여정
- 페르소나 A: 첫 금주 도전자
- 페르소나 B: 반복 도전자(재도전/회고 중심)
- 여정: 설치 → 목표 설정 → 진행/유지 → 회고/다음 목표 설정

## 4. 기능 명세(요약)
- 금주 타이머: 진행/일시/완료 상태, 목표 대비 진행률
- 기록: 월/주/년/전체 필터, 상세 화면(기간/성공률/메타 정보)
- 레벨: 누적 달성일/규칙 기반 레벨 산정
- 설정: 목표/코스트/개인화

## 5. UX 원칙
- 한 화면 한 목적, 단계 최소화
- 숫자/진행률은 일관된 포맷으로 표시
- 접근성 고려(터치 영역/명도 대비/설명 텍스트)
- 터치 타겟: 최소 32dp (Records 화면의 ‘금주 기록 추가’ + 버튼 포함)
- FAB 사용 기준
  - FAB(부유 액션 버튼)는 해당 화면의 Primary Action(가장 핵심/우선 작업)에 한해 사용한다.
  - Secondary Action에는 FAB를 사용하지 않는다. 필요 시 상단 액션(아이콘 버튼) 또는 컨텍스트 내 버튼으로 제공한다.
  - Records 화면에서 ‘금주 기록 추가’는 Secondary Action이므로 FAB를 사용하지 않고, 기간 헤더 우측의 + 버튼으로 항상 노출한다(로딩 중에도 노출).
  - 세부 가이드는 `docs/UX_FLOW.md`의 “액션 위계/CTA 정책(Records 화면)” 참조.

## 6. 아키텍처 개요
- 앱 모듈: Compose + Activity 기반 화면 전환
- 상태/저장: SharedPreferences + 로컬 파일(JSON)
- 유틸: RecordsDataLoader, FormatUtils, PercentUtils 등
- 패키지 구성 예시: `components/`, `ui/`, `utils/`

## 7. 데이터 모델
- `SobrietyRecord`
  - id, startTime, endTime, targetDays, percentage?, isCompleted
- 보관: JSON 직렬화/역직렬화, 로컬 저장(SharedPreferences/파일)

## 8. 비기능 요구사항
- 성능: 리스트 렌더링에 지연/스냅 동작 활용
- 안정성: 예외 처리 및 사용자 알림(토스트/다이얼로그)
- 로컬라이제이션: 기본 ko-KR, 추후 확장

## 9. 릴리스 플랜(초안)
- 0.1.0: MVP(금주 시작/종료/기록/레벨/간단 통계)
- 0.2.x: 위젯/알림, 상세 통계
- 0.3.x: 백업/복원, 다국어

## 10. 리스크 & 대응
- 데이터 유실: 저장 시점/검증 로직 강화
- 장기 실행 정확도: 기간 계산 유틸 단위 테스트 강화

## 11. 참고 링크
- UX 흐름: `docs/UX_FLOW.md`
- 코드 가이드: `ui/`, `components/`, `utils/` 내 주석 참고

---
체크리스트(작업용)
- [ ] 화면별 요구사항 세부화
- [ ] 데이터 마이그레이션 정책 수립
- [ ] 접근성/다크모드 점검
