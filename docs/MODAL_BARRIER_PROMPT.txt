Android(Jetpack Compose) 코딩 어시스턴트로서, 드로어와 다이얼로그에 “완전한 모달 배리어”를 적용하세요.

목표
- 드로어/모달이 열려 있거나 애니메이션 중일 때 배경 상호작용(탭, 더블탭, 롱프레스, 스크롤, 플링)이 전혀 발생하지 않아야 합니다.
- 스크림 탭으로 닫기가 허용된 경우 닫히되, 그 탭이 배경의 어떤 액션도 트리거하지 않아야 합니다.
- 닫힌 직후 짧은 그레이스 기간 동안 입력을 계속 소비해 클릭 스루(click-through)를 방지합니다.

수용 기준(Acceptance Criteria)
- 스크림 탭 시 드로어는 닫히지만, 배경의 onClick/onLongClick/scroll 콜백은 호출되지 않습니다.
- 애니메이션 중 및 닫힘 직후 그레이스 기간 동안 입력이 배경으로 절대 누수되지 않습니다.
- 접근성 활성화 상태에서 드로어/모달이 열려 있는 동안 배경 포커스 이동이 불가능합니다.

구현 지침(Jetpack Compose)
- 드로어는 Material3의 ModalNavigationDrawer를 사용하되, 명시적인 입력 가드 오버레이를 추가합니다.
- drawerState의 isAnimationRunning/currentValue/targetValue를 snapshotFlow로 관찰하여 입력 가드 상태를 토글합니다.
- 가드가 활성일 때 전체 화면 Box에 pointerInput을 부여해 모든 포인터 이벤트를 소비합니다.
- 드로어가 Closed에 도달한 뒤 150–250ms(기본 200ms) 그레이스 기간을 두고 가드를 해제합니다.
- 전역 입력 락(있다면) 조건을 드로어 가드와 병합합니다.
- 다이얼로그는 정책(예: canDismiss)에 맞춰 DialogProperties의 dismissOnBackPress/dismissOnClickOutside를 설정합니다.

Compose 스니펫(개요)
```
var drawerInputGuardActive by remember { mutableStateOf(false) }
val drawerGuardGraceMs = 200L
LaunchedEffect(drawerState) {
    snapshotFlow { Triple(drawerState.isAnimationRunning, drawerState.currentValue, drawerState.targetValue) }
        .collect { (isAnimating, current, target) ->
            if (isAnimating || current != DrawerValue.Closed || target != DrawerValue.Closed) {
                drawerInputGuardActive = true
            } else {
                drawerInputGuardActive = true
                delay(drawerGuardGraceMs)
                drawerInputGuardActive = false
            }
        }
}

if (drawerInputGuardActive /* || globalInputLocked */) {
    Box(
        modifier = Modifier
            .fillMaxSize()
            .pointerInput(drawerInputGuardActive) {
                while (true) {
                    awaitPointerEventScope {
                        val event = awaitPointerEvent()
                        event.changes.forEach { it.consume() }
                    }
                }
            }
    )
}
```

다이얼로그 예시
```
Dialog(
    onDismissRequest = { if (canDismiss) onDismiss() },
    properties = DialogProperties(
        dismissOnBackPress = canDismiss,
        dismissOnClickOutside = canDismiss
    )
) { /* content */ }
```

QA 체크리스트
- Show taps 및 Pointer location을 켠 뒤 다음 상황에서 배경 반응이 없는지 확인:
  - 단일 탭, 빠른 더블탭, 롱프레스, 느린 탭(Up 지연), 수평/수직 스크롤
- 스크림 탭으로 닫기: 닫힌 뒤 약 200ms 이내에 배경 클릭/스크롤이 발생하지 않아야 함
- 스크롤 가능한 화면(리스트/지도 등)에서도 드로어/모달이 열려 있는 동안 배경 움직임 없음
- canDismiss=false 다이얼로그: 백 버튼 및 바깥 탭으로 닫히지 않음

참고
- 사용하는 Compose 버전에서 consume() 경고가 발생하면 consumeAllChanges()를 사용하세요.
- 그레이스 기간은 기기 특성에 따라 150–250ms 범위에서 튜닝하고, 기본값은 200ms로 유지합니다.
